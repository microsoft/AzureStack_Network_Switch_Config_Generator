{{ define "port"}}
! port.go.tmpl-port
{{ range . -}} 

{{if eq .PortType "OOB" -}} 
interface {{ .PortName }}
  description {{ .Description }}
  no ip redirects
  no ipv6 redirects
  ip address {{ .IPAddress }}
  {{if .Shutdown -}} shutdown {{else -}} no shutdown {{end}}
{{else -}}
interface {{ .PortName }} {{ .Port }}
  description {{ .Description }}
  no cdp enable
  mtu {{ .Mtu }}
  {{if eq .PortType "IP" -}} 
  no switchport
  ip address {{ .IPAddress }}
  {{end -}}

  {{if eq .PortType "Access" -}} 
  switchport
  switchport access vlan {{ .UntagVlan }}
  no logging event port link-status
  {{end -}}
  {{- /*Trunk Section*/ -}}
  {{if eq .PortType "Trunk" -}} 
  switchport
  switchport mode trunk
  {{if .UntagVlan -}}
  switchport trunk native vlan {{ .UntagVlan }}
  {{end -}}
  {{if .TagVlan -}}
  switchport trunk allowed vlan {{.TagVlan}}
  {{end -}}
  no logging event port link-status
  spanning-tree port type edge trunk
  {{if .Others.ServicePolicyInput -}}
  service-policy type qos input {{.Others.ServicePolicyInput}}
  {{end  -}}
  priority-flow-control mode on
  {{end -}}
  {{if .Shutdown -}} shutdown {{else -}} no shutdown {{end}}
{{end }}
{{end -}}
{{ end }}