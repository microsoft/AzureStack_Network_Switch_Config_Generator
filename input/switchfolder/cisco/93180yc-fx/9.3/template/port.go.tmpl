{{ define "port"}}
! port.go.tmpl-port
{{ range . -}} 

{{if eq .PortType "OOB" -}} 
interface {{ .PortName }}
  description {{ .Description }}
  no ip redirects
  no ipv6 redirects
  ip address {{ .IPAddress }}
  {{if .Shutdown -}} shutdown {{else -}} no shutdown {{end}}
{{else -}}
interface {{ .PortName }} {{ .Port }}
  description {{ .Description }}
  no cdp enable
  mtu {{ .Mtu }}
  {{if eq .PortType "IP" -}} 
  no switchport
  ip address {{ .IPAddress }}
  {{end -}}

  {{if eq .PortType "Access" -}} 
  switchport
  switchport access vlan {{ .UntagVlan }}
  no logging event port link-status
  {{end -}}
  {{- /*Trunk Section*/ -}}
  {{if eq .PortType "Trunk" -}} 
  switchport
  switchport mode trunk
  switchport trunk native vlan {{ .UntagVlan }}
  {{range .TagVlan -}}
  switchport trunk allowed vlan add {{.}}
  {{end -}}
  no logging event port link-status
  spanning-tree port type edge trunk
  priority-flow-control mode on
  {{end -}}
  no ip redirects
  no ipv6 redirects
  {{if .Shutdown -}} shutdown {{else -}} no shutdown {{end}}
{{end }}
{{end -}}
{{ end }}